<canvas width="600" height="300" id="map" style="border: 1px solid"></canvas>

<script type="module">
  import { Map, TileLayer } from "maptalks";

  const res =
    (window.devicePixelRatio ||
      window.screen.deviceXDPI / window.screen.logicalXDPI) > 1;
  if (res) {
    // retina, see https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio
    const canvas = document.getElementById("map");
    const r = 2;
    canvas.width *= r;
    canvas.height *= r;
    canvas.style.cssText +=
      "width:" +
      Math.round(canvas.width / r) +
      "px;height:" +
      Math.round(canvas.height / r) +
      "px";
  }

  const map = new Map("map", {
    center: [-0.113049, 51.498568],
    zoom: 14,
    zoomControl: true, // ignored in a canvas container
    scaleControl: true, // ignored in a canvas container
    baseLayer: new TileLayer("base", {
      urlTemplate:
        "https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",
      subdomains: ["a", "b", "c", "d"],
      attribution:
        "&copy; <a href='http://osm.org'>OpenStreetMap</a> contributors, &copy; <a href='https://carto.com/'>CARTO</a>",
    }),
  });
</script>

<style>
  @import "https://maptalks.com/api/maptalks.css";
  @import "./index.css";
</style>
